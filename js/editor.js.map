{"version":3,"sources":["webpack:///../js/editor.js","webpack:///webpack/bootstrap e87f0ad0640715830923","webpack:///./core.js","webpack:///./lib/util.js","webpack:///./vue/player.vue","webpack:///../~/vue-loader/lib/component-normalizer.js","webpack:///player.vue","webpack:///./lib/videojs-ass.js","webpack:///./vue/player.vue?e581"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_util","_player","_player2","_window","window","Vue","libjass","hs","el","components","hs-player","data","title","renderer","cues","methods","keyupText","cue","_parts","parser","parse","_rawPartsString","changeText","oldCue","newCue","Dialogue","Map","style","this","ass","index","findIndex","_id","_resize","addCue","_containsTransformTag","push","mounted","_this","assRender","then","r","dialogues","forEach","xssFilter","str","replace","Object","defineProperty","value","Component","options","__file","esModule","keys","some","key","console","error","functional","rawScriptExports","compiledTemplate","scopeId","cssModules","scriptExports","type","render","staticRenderFns","_scopeId","computed","initVideojs","_ref","videoType","videoSrc","trackSrc","videojs","controls","nativeControlsForTouch","fluid","plugins","src","delay","techOrder","sources","_videojsAss","_videojsAss2","player","Promise","resolve","reject","vjs_ass","getCurrentTime","currentTime","updateClockRate","clock","setRate","playbackRate","clockRate","updateDisplayArea","videoWidth","offsetWidth","videoHeight","offsetHeight","videoOffsetWidth","videoOffsetHeight","ratio","Math","min","subsWrapperWidth","subsWrapperHeight","subsWrapperLeft","subsWrapperTop","resize","overlay","document","createElement","rate","AssButton","AssButtonInstance","OverlayComponent","VjsButton","className","name","addChild","renderers","AutoClock","on","play","pause","seeking","addEventListener","disable","removeEventListener","ASS","fromUrl","Format","rendererSettings","RendererSettings","hasOwnProperty","enableSvg","fontMap","makeFontMapFromStyleElement","getElementById","fontMapById","WebRenderer","button","getComponent","extend","constructor","buildCSSClass","classes","prototype","handleClick","hasClass","removeClass","display","addClass","ready","controlBar","insertBefore","getChild","nextSibling","plugin","_vm","_h","$createElement","_self","_c","_m","staticClass","attrs","_withStripped"],"mappings":"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","file":"C:\\Users\\baek\\Documents\\GitHub\\hsub-editor\\js\\editor.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _util = __webpack_require__(1);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _player = __webpack_require__(2);\n\t\n\tvar _player2 = _interopRequireDefault(_player);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// import from other files\n\tvar _window = window,\n\t    Vue = _window.Vue,\n\t    libjass = _window.libjass;\n\t\n\t\n\tvar hs = new Vue({\n\t  el: '#hs-app',\n\t\n\t  components: {\n\t    'hs-player': _player2.default\n\t  },\n\t\n\t  data: {\n\t    title: 'Hsub Editor',\n\t    renderer: {},\n\t    cues: []\n\t  },\n\t\n\t  methods: {\n\t    keyupText: function keyupText(cue) {\n\t      cue._parts = libjass.parser.parse(cue._rawPartsString, 'dialogueParts');\n\t    },\n\t    changeText: function changeText(oldCue) {\n\t      var newCue = new libjass.Dialogue(new Map([['Style', oldCue.style], ['Start', '0:00:0.00'], ['End', '0:01:10.00'], ['Text', oldCue._rawPartsString]]), this.renderer.ass);\n\t\n\t      var index = this.cues.findIndex(function (cue) {\n\t        return cue.id === oldCue.id;\n\t      });\n\t      newCue._id = oldCue.id;\n\t      this.cues[index] = newCue;\n\t      // re-render forced\n\t      this.renderer._resize();\n\t    },\n\t    addCue: function addCue() {\n\t      var cue = new libjass.Dialogue(new Map([['Style', 'Default'], ['Start', '0:00:0.00'], ['End', '0:01:10.00'], ['Text', 'new text']]), this.renderer.ass);\n\t      cue._containsTransformTag = true;\n\t\n\t      this.cues.push(cue);\n\t    }\n\t  },\n\t\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    // get libjass cues\n\t    _player2.default.assRender.then(function (r) {\n\t      _this.renderer = r;\n\t      _this.cues = r.ass.dialogues;\n\t      // re-render forced\n\t      _this.cues.forEach(function (cue) {\n\t        cue._containsTransformTag = true;\n\t      });\n\t      // debug\n\t      window.r = r;\n\t    });\n\t  }\n\t});\n\t\n\twindow.hs = hs;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t/**\n\t * util functions\n\t */\n\t\n\t/**\n\t * xss filter\n\t * @param  {String} str\n\t * @return {String}\n\t */\n\tfunction xssFilter(str) {\n\t  return str.replace(/</g, '&lt;').replace(/&lt;(\\/?)(b|i|u|font)/g, '<$1$2');\n\t}\n\t\n\texports.default = {\n\t  xssFilter: xssFilter\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Component = __webpack_require__(3)(\n\t  /* script */\n\t  __webpack_require__(4),\n\t  /* template */\n\t  __webpack_require__(6),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\tComponent.options.__file = \"C:\\\\Users\\\\baek\\\\Documents\\\\GitHub\\\\hsub-editor\\\\src\\\\vue\\\\player.vue\"\n\tif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\tif (Component.options.functional) {console.error(\"[vue-loader] player.vue: functional components are not supported with templates, they should use render functions.\")}\n\t\n\t/* hot reload */\n\tif (false) {(function () {\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), false)\n\t  if (!hotAPI.compatible) return\n\t  module.hot.accept()\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(\"data-v-70dd6723\", Component.options)\n\t  } else {\n\t    hotAPI.reload(\"data-v-70dd6723\", Component.options)\n\t  }\n\t})()}\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function normalizeComponent (\n\t  rawScriptExports,\n\t  compiledTemplate,\n\t  scopeId,\n\t  cssModules\n\t) {\n\t  var esModule\n\t  var scriptExports = rawScriptExports = rawScriptExports || {}\n\t\n\t  // ES6 modules interop\n\t  var type = typeof rawScriptExports.default\n\t  if (type === 'object' || type === 'function') {\n\t    esModule = rawScriptExports\n\t    scriptExports = rawScriptExports.default\n\t  }\n\t\n\t  // Vue.extend constructor export interop\n\t  var options = typeof scriptExports === 'function'\n\t    ? scriptExports.options\n\t    : scriptExports\n\t\n\t  // render functions\n\t  if (compiledTemplate) {\n\t    options.render = compiledTemplate.render\n\t    options.staticRenderFns = compiledTemplate.staticRenderFns\n\t  }\n\t\n\t  // scopedId\n\t  if (scopeId) {\n\t    options._scopeId = scopeId\n\t  }\n\t\n\t  // inject cssModules\n\t  if (cssModules) {\n\t    var computed = options.computed || (options.computed = {})\n\t    Object.keys(cssModules).forEach(function (key) {\n\t      var module = cssModules[key]\n\t      computed[key] = function () { return module }\n\t    })\n\t  }\n\t\n\t  return {\n\t    esModule: esModule,\n\t    exports: scriptExports,\n\t    options: options\n\t  }\n\t}\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _videojsAss = __webpack_require__(5);\n\t\n\tvar _videojsAss2 = _interopRequireDefault(_videojsAss);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar videojs = window.videojs; //\n\t//\n\t//\n\t//\n\t//\n\t//\n\t//\n\t//\n\t\n\t\n\t/**\n\t * videojs player\n\t */\n\t\n\texports.default = {\n\t  assRender: _videojsAss2.default,\n\t\n\t  mounted: function mounted() {\n\t    var videoType = 'youtube';\n\t    var videoSrc = 'https://www.youtube.com/watch?v=6BXKh4f6Vhw';\n\t    var trackSrc = 'subs/sample2.ass';\n\t\n\t    this.player = initVideojs({ videoType: videoType, videoSrc: videoSrc, trackSrc: trackSrc });\n\t  },\n\t  data: function data() {\n\t    return {\n\t      player: {}\n\t    };\n\t  }\n\t};\n\t\n\t/**\n\t * render videojs\n\t * @param  {String} videoType\n\t * @param  {String} videoSrc\n\t * @param  {String} trackSrc\n\t * @return {Void}\n\t */\n\t\n\tfunction initVideojs(_ref) {\n\t  var videoType = _ref.videoType,\n\t      videoSrc = _ref.videoSrc,\n\t      trackSrc = _ref.trackSrc;\n\t\n\t  return videojs('hs-player', {\n\t    controls: true,\n\t    nativeControlsForTouch: false,\n\t    fluid: true,\n\t    plugins: {\n\t      ass: {\n\t        src: trackSrc,\n\t        delay: -0.1\n\t      }\n\t    },\n\t    techOrder: [videoType],\n\t    sources: [{\n\t      type: 'video/' + videoType,\n\t      src: videoSrc\n\t    }]\n\t  });\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*! videojs-ass\n\t * Copyright (c) 2014 Sunny Li\n\t * Licensed under the Apache-2.0 license. */\n\t\n\texports.default = new Promise(function (resolve, reject) {\n\t  'use strict';\n\t\n\t  var vjs_ass = function vjs_ass(options) {\n\t    var overlay = document.createElement('div'),\n\t        clock = null,\n\t        clockRate = options.rate || 1,\n\t        delay = options.delay || 0,\n\t        player = this,\n\t        renderer = null,\n\t        AssButton = null,\n\t        AssButtonInstance = null,\n\t        OverlayComponent = null,\n\t        VjsButton = null;\n\t\n\t    if (!options.src) {\n\t      return;\n\t    }\n\t\n\t    overlay.className = 'vjs-ass';\n\t\n\t    OverlayComponent = {\n\t      name: function name() {\n\t        return 'AssOverlay';\n\t      },\n\t      el: function el() {\n\t        return overlay;\n\t      }\n\t    };\n\t\n\t    player.addChild(OverlayComponent);\n\t\n\t    function getCurrentTime() {\n\t      return player.currentTime() - delay;\n\t    }\n\t\n\t    clock = new libjass.renderers.AutoClock(getCurrentTime, 500);\n\t\n\t    player.on('play', function () {\n\t      clock.play();\n\t    });\n\t\n\t    player.on('pause', function () {\n\t      clock.pause();\n\t    });\n\t\n\t    player.on('seeking', function () {\n\t      clock.seeking();\n\t    });\n\t\n\t    function updateClockRate() {\n\t      clock.setRate(player.playbackRate() * clockRate);\n\t    }\n\t\n\t    updateClockRate();\n\t    player.on('ratechange', updateClockRate);\n\t\n\t    function updateDisplayArea() {\n\t      //setTimeout(function () {\n\t      // player might not have information on video dimensions when using external providers\n\t      var videoWidth = options.videoWidth || player.videoWidth() || player.el().offsetWidth,\n\t          videoHeight = options.videoHeight || player.videoHeight() || player.el().offsetHeight,\n\t          videoOffsetWidth = player.el().offsetWidth,\n\t          videoOffsetHeight = player.el().offsetHeight,\n\t          ratio = Math.min(videoOffsetWidth / videoWidth, videoOffsetHeight / videoHeight),\n\t          subsWrapperWidth = videoWidth * ratio,\n\t          subsWrapperHeight = videoHeight * ratio,\n\t          subsWrapperLeft = (videoOffsetWidth - subsWrapperWidth) / 2,\n\t          subsWrapperTop = (videoOffsetHeight - subsWrapperHeight) / 2;\n\t\n\t      renderer.resize(subsWrapperWidth, subsWrapperHeight, subsWrapperLeft, subsWrapperTop);\n\t      //}, 100);\n\t    }\n\t\n\t    window.addEventListener('resize', updateDisplayArea);\n\t    player.on('loadedmetadata', updateDisplayArea);\n\t    player.on('resize', updateDisplayArea);\n\t    player.on('fullscreenchange', updateDisplayArea);\n\t\n\t    player.on('dispose', function () {\n\t      clock.disable();\n\t      window.removeEventListener('resize', updateDisplayArea);\n\t    });\n\t\n\t    libjass.ASS.fromUrl(options.src, libjass.Format.ASS).then(function (ass) {\n\t      var rendererSettings = new libjass.renderers.RendererSettings();\n\t      if (options.hasOwnProperty('enableSvg')) {\n\t        rendererSettings.enableSvg = options.enableSvg;\n\t      }\n\t      if (options.hasOwnProperty('fontMap')) {\n\t        rendererSettings.fontMap = new libjass.Map(options.fontMap);\n\t      } else if (options.hasOwnProperty('fontMapById')) {\n\t        rendererSettings.fontMap = libjass.renderers.RendererSettings.makeFontMapFromStyleElement(document.getElementById(options.fontMapById));\n\t      }\n\t\n\t      renderer = new libjass.renderers.WebRenderer(ass, clock, overlay, rendererSettings);\n\t      // re-render forced\n\t      renderer._resize = updateDisplayArea;\n\t      resolve(renderer);\n\t    });\n\t\n\t    // Visibility Toggle Button\n\t    if (!options.hasOwnProperty('button') || options.button) {\n\t      VjsButton = videojs.getComponent('Button');\n\t      AssButton = videojs.extend(VjsButton, {\n\t        constructor: function constructor(player, options) {\n\t          options.name = options.name || 'assToggleButton';\n\t          VjsButton.call(this, player, options);\n\t        },\n\t        buildCSSClass: function buildCSSClass() {\n\t          var classes = VjsButton.prototype.buildCSSClass.call(this);\n\t          return 'vjs-ass-button ' + classes;\n\t        },\n\t        handleClick: function handleClick() {\n\t          if (!this.hasClass('inactive')) {\n\t            this.addClass('inactive');\n\t            overlay.style.display = \"none\";\n\t          } else {\n\t            this.removeClass('inactive');\n\t            overlay.style.display = \"\";\n\t          }\n\t        }\n\t      });\n\t\n\t      player.ready(function () {\n\t        AssButtonInstance = new AssButton(player, options);\n\t        player.controlBar.addChild(AssButtonInstance);\n\t        player.controlBar.el().insertBefore(AssButtonInstance.el(), player.controlBar.getChild('customControlSpacer').el().nextSibling);\n\t      });\n\t    }\n\t  };\n\t\n\t  videojs.plugin('ass', vjs_ass);\n\t});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _vm._m(0)\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"hs-player-wrapper\"\n\t  }, [_c('video', {\n\t    staticClass: \"video-js vjs-default-skin vjs-big-play-centered\",\n\t    attrs: {\n\t      \"id\": \"hs-player\"\n\t    }\n\t  })])\n\t}]}\n\tmodule.exports.render._withStripped = true\n\tif (false) {\n\t  module.hot.accept()\n\t  if (module.hot.data) {\n\t     require(\"vue-hot-reload-api\").rerender(\"data-v-70dd6723\", module.exports)\n\t  }\n\t}\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ../js/editor.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e87f0ad0640715830923","\nimport util from './lib/util'\n\nimport player from './vue/player.vue'\n\n// import from other files\nconst { Vue, libjass } = window\n\n\nconst hs = new Vue({\n  el: '#hs-app',\n\n  components: {\n    'hs-player': player,\n  },\n\n  data: {\n    title: 'Hsub Editor',\n    renderer: {},\n    cues: [],\n  },\n\n  methods: {\n    keyupText(cue) {\n      cue._parts = libjass.parser.parse(cue._rawPartsString, 'dialogueParts')\n    },\n\n    changeText(oldCue) {\n      const newCue = new libjass.Dialogue(new Map([\n        ['Style', oldCue.style],\n        ['Start', '0:00:0.00'],\n        ['End', '0:01:10.00'],\n        ['Text', oldCue._rawPartsString],\n      ]), this.renderer.ass)\n\n      const index = this.cues.findIndex(cue => cue.id === oldCue.id)\n      newCue._id = oldCue.id\n      this.cues[index] = newCue\n      // re-render forced\n      this.renderer._resize()\n    },\n\n    addCue() {\n      const cue = new libjass.Dialogue(new Map([\n        ['Style', 'Default'],\n        ['Start', '0:00:0.00'],\n        ['End', '0:01:10.00'],\n        ['Text', 'new text'],\n      ]), this.renderer.ass)\n      cue._containsTransformTag = true\n\n      this.cues.push(cue)\n    },\n  },\n\n  mounted() {\n    // get libjass cues\n    player.assRender.then((r) => {\n      this.renderer = r\n      this.cues = r.ass.dialogues\n      // re-render forced\n      this.cues.forEach((cue) => { cue._containsTransformTag = true })\n      // debug\n      window.r = r\n    })\n  },\n})\n\nwindow.hs = hs\n\n\n\n// WEBPACK FOOTER //\n// ./core.js","\n/**\n * util functions\n */\n\n\n/**\n * xss filter\n * @param  {String} str\n * @return {String}\n */\nfunction xssFilter(str) {\n  return str\n  .replace(/</g, '&lt;')\n  .replace(/&lt;(\\/?)(b|i|u|font)/g, '<$1$2')\n}\n\n\nexport default {\n  xssFilter,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","var Component = require(\"!./../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./player.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-70dd6723!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./player.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"C:\\\\Users\\\\baek\\\\Documents\\\\GitHub\\\\hsub-editor\\\\src\\\\vue\\\\player.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] player.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-70dd6723\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-70dd6723\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./vue/player.vue\n// module id = 2\n// module chunks = 0","module.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = options.computed || (options.computed = {})\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/vue-loader/lib/component-normalizer.js\n// module id = 3\n// module chunks = 0","\n<template>\n\n  <div class=\"hs-player-wrapper\">\n    <video id=\"hs-player\" class=\"video-js vjs-default-skin vjs-big-play-centered\"></video>\n  </div>\n\n</template>\n<script>\n\n/**\n * videojs player\n */\n\nimport assRender from '../lib/videojs-ass'\n\n\nconst videojs = window.videojs\n\nexport default {\n  assRender,\n\n  mounted() {\n    const videoType = 'youtube'\n    const videoSrc = 'https://www.youtube.com/watch?v=6BXKh4f6Vhw'\n    const trackSrc = 'subs/sample2.ass'\n\n    this.player = initVideojs({ videoType, videoSrc, trackSrc })\n  },\n\n  data() {\n    return {\n      player: {},\n    }\n  },\n}\n\n\n/**\n * render videojs\n * @param  {String} videoType\n * @param  {String} videoSrc\n * @param  {String} trackSrc\n * @return {Void}\n */\nfunction initVideojs({ videoType, videoSrc, trackSrc }) {\n  return videojs('hs-player', {\n    controls: true,\n    nativeControlsForTouch: false,\n    fluid: true,\n    plugins: {\n      ass: {\n        src: trackSrc,\n        delay: -0.1,\n      },\n    },\n    techOrder: [videoType],\n    sources: [{\n      type: `video/${videoType}`,\n      src: videoSrc,\n    }],\n  })\n}\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// player.vue?4e486b04","/*! videojs-ass\n * Copyright (c) 2014 Sunny Li\n * Licensed under the Apache-2.0 license. */\n\nexport default new Promise((resolve, reject) => {\n  'use strict';\n\n  var vjs_ass = function (options) {\n    var overlay = document.createElement('div'),\n      clock = null,\n      clockRate = options.rate || 1,\n      delay = options.delay || 0,\n      player = this,\n      renderer = null,\n      AssButton = null,\n      AssButtonInstance = null,\n      OverlayComponent = null,\n      VjsButton = null;\n\n    if (!options.src) {\n      return;\n    }\n\n    overlay.className = 'vjs-ass';\n\n    OverlayComponent = {\n      name: function () {\n        return 'AssOverlay';\n      },\n      el: function () {\n        return overlay;\n      }\n    }\n\n    player.addChild(OverlayComponent);\n\n    function getCurrentTime() {\n      return player.currentTime() - delay;\n    }\n\n    clock = new libjass.renderers.AutoClock(getCurrentTime, 500);\n\n    player.on('play', function () {\n      clock.play();\n    });\n\n    player.on('pause', function () {\n      clock.pause();\n    });\n\n    player.on('seeking', function () {\n      clock.seeking();\n    });\n\n    function updateClockRate() {\n      clock.setRate(player.playbackRate() * clockRate);\n    }\n\n    updateClockRate();\n    player.on('ratechange', updateClockRate);\n\n    function updateDisplayArea() {\n      //setTimeout(function () {\n        // player might not have information on video dimensions when using external providers\n        var videoWidth = options.videoWidth || player.videoWidth() || player.el().offsetWidth,\n          videoHeight = options.videoHeight || player.videoHeight() || player.el().offsetHeight,\n          videoOffsetWidth = player.el().offsetWidth,\n          videoOffsetHeight = player.el().offsetHeight,\n\n          ratio = Math.min(videoOffsetWidth / videoWidth, videoOffsetHeight / videoHeight),\n          subsWrapperWidth = videoWidth * ratio,\n          subsWrapperHeight = videoHeight * ratio,\n          subsWrapperLeft = (videoOffsetWidth - subsWrapperWidth) / 2,\n          subsWrapperTop = (videoOffsetHeight - subsWrapperHeight) / 2;\n\n        renderer.resize(subsWrapperWidth, subsWrapperHeight, subsWrapperLeft, subsWrapperTop);\n      //}, 100);\n    }\n\n    window.addEventListener('resize', updateDisplayArea);\n    player.on('loadedmetadata', updateDisplayArea);\n    player.on('resize', updateDisplayArea);\n    player.on('fullscreenchange', updateDisplayArea);\n\n    player.on('dispose', function () {\n      clock.disable();\n      window.removeEventListener('resize', updateDisplayArea);\n    });\n\n    libjass.ASS.fromUrl(options.src, libjass.Format.ASS).then(\n      function (ass) {\n        var rendererSettings = new libjass.renderers.RendererSettings();\n        if (options.hasOwnProperty('enableSvg')) {\n          rendererSettings.enableSvg = options.enableSvg;\n        }\n        if (options.hasOwnProperty('fontMap')) {\n          rendererSettings.fontMap = new libjass.Map(options.fontMap);\n        } else if (options.hasOwnProperty('fontMapById')) {\n          rendererSettings.fontMap = libjass.renderers.RendererSettings\n            .makeFontMapFromStyleElement(document.getElementById(options.fontMapById));\n        }\n\n        renderer = new libjass.renderers.WebRenderer(ass, clock, overlay, rendererSettings);\n        // re-render forced\n        renderer._resize = updateDisplayArea\n        resolve(renderer)\n      }\n    );\n\n    // Visibility Toggle Button\n    if (!options.hasOwnProperty('button') || options.button) {\n      VjsButton = videojs.getComponent('Button');\n      AssButton = videojs.extend(VjsButton, {\n        constructor: function (player, options) {\n          options.name = options.name || 'assToggleButton';\n          VjsButton.call(this, player, options);\n        },\n        buildCSSClass: function () {\n          var classes = VjsButton.prototype.buildCSSClass.call(this);\n          return 'vjs-ass-button ' + classes;\n        },\n        handleClick: function () {\n          if (!this.hasClass('inactive')) {\n            this.addClass('inactive');\n            overlay.style.display = \"none\";\n          } else {\n            this.removeClass('inactive');\n            overlay.style.display = \"\";\n          }\n        }\n      });\n\n      player.ready(function () {\n        AssButtonInstance = new AssButton(player, options);\n        player.controlBar.addChild(AssButtonInstance);\n        player.controlBar.el().insertBefore(\n          AssButtonInstance.el(),\n          player.controlBar.getChild('customControlSpacer').el().nextSibling\n        );\n      });\n    }\n  };\n\n  videojs.plugin('ass', vjs_ass);\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/videojs-ass.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"hs-player-wrapper\"\n  }, [_c('video', {\n    staticClass: \"video-js vjs-default-skin vjs-big-play-centered\",\n    attrs: {\n      \"id\": \"hs-player\"\n    }\n  })])\n}]}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-70dd6723\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/vue-loader/lib/template-compiler.js?id=data-v-70dd6723!../~/vue-loader/lib/selector.js?type=template&index=0!./vue/player.vue\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}