"use strict";!function(a){function b(){}var c=/<sync/i,d=/<sync|<\/body|<\/sami/i,e=/<sync[^>]+?start=(\d+)(?:[^>]+?)?>/i,f=/[\r\n]/g,g=/<[^>]+?color=(#?[^>]+?)(?:\s[^>]+?)?>(.+?)<\/[^>]+?>/gi,h=/<br\s?\/?>/gi,i=/(<([^>]+)>)/gi;a.Smi=b,b.prototype.parse=function(a){var b=this;"string"!=typeof a&&(a=a.toString());for(var c=b.splitBySync(a),d=0;d<c.length;d++)c[d].content=b.replace(c[d].content);return c},b.prototype.splitBySync=function(a){for(var b=[];;){var g=a.search(c);if(0>g)break;var h=a.slice(g+1).search(d)+1,i="";h>0?(i=a.slice(g,g+h),a=a.slice(g+h)):(i=a.slice(g),a="");var j=e.exec(i);if(null!==j){var k=Number.parseInt(j[1]);i=i.replace(e,"").replace(f,""),b.push({content:i,startTime:k})}}return b},b.prototype.replace=function(a){var b=this;return"string"!=typeof a?a:(a=a.replace(h,"\n"),a=a.replace(g,function(a,b,c){return'::lt;span style="color:'+b.trim()+'"::gt;'+c+"::lt;/span::gt;"}),a=a.replace(i,""),a=b.fixTag(a),a.trim())},b.prototype.fixTag=function(a){return"string"!=typeof a?a:a.replace(/::lt;/gi,"<").replace(/::gt;/gi,">")}}(window);
